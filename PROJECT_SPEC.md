# ANY-GO 跨境电商团队协作平台

## 项目概述
ANY-GO是一个专为50人以内跨境电商团队设计的协作平台，主要用于管理产品和装箱单等信息。通过上传装箱单和采购单，自动创建产品并计算成本价和头程运费，同时计算出每个产品的在途库存情况，帮助跨境电商运营工作。

## 技术栈

### 后端
- FastAPI - 高性能的 Python Web 框架
- PostgreSQL/SQLite - 关系型数据库（支持自动降级）
- SQLAlchemy - ORM 框架
- Pydantic - 数据验证
- Python 3.8+ - 编程语言
- APScheduler - 任务调度
- Alembic - 数据库迁移
-session - 用户认证

### 前端
- Vue 3 - 渐进式 JavaScript 框架
- TypeScript - 类型系统
- Element Plus - UI 组件库
- ECharts - 图表库
- Vite - 构建工具
- Pinia - 状态管理
- Axios - HTTP 客户端

## 核心功能

### 1. 用户管理
- 用户注册与登录
- 基于角色的权限控制（管理员、普通用户）
- 简单的session认证
- 用户信息管理

### 2. 产品管理
- 产品创建、编辑、删除
- 产品分类与筛选
- 产品库存管理
- 批量导入/导出产品
- 产品图片上传
- 自动创建产品（从装箱单）

### 3. 装箱单管理
- 创建、编辑、删除装箱单
- 装箱单审批流程
- 装箱单明细管理
- 箱子规格管理
- 批量导入/导出装箱单
- 装箱单打印

### 4. 库存管理
- 库存记录追踪
- 库存变动历史
- 在途库存管理
- 库存预警
- 库存盘点

### 5. 库存分析
- 库存周转率分析
- 库存健康度评估
- 品类库存分析
- 库存趋势图表

### 6. 销售管理
- 订单管理
- 销售统计
- 销售趋势分析
- 店铺销售分析

### 7. 利润分析
- 产品利润分析
- 品类利润分析
- 利润趋势图表
- 利润汇总报表

### 8. 数据导入/导出
- Excel 文件导入
- Excel 文件导出
- 数据验证与错误处理

## 系统架构

### 前端架构
- 基于 Vue 3 的单页应用
- 组件化设计
- 响应式布局
- 状态管理与缓存
- 路由权限控制

### 后端架构
- RESTful API 设计
- 分层架构（路由、服务、数据访问）
- 数据库抽象与ORM
- 异常处理机制
- 数据验证

### 数据库设计
- 用户表（users）
- 产品表（products）
- 装箱单表（packing_lists）
- 装箱单明细表（packing_list_items）
- 箱子规格表（box_specs）
- 库存记录表（stock_records）
- 在途库存表（transit_stock）
- 库存分析表（inventory_analysis）
- 销售订单表（orders）
- 订单明细表（order_items）
- 利润分析表（profit_analysis）

## 部署方案

### 开发环境
- 前端：Vite 开发服务器
- 后端：Uvicorn 开发服务器
- 数据库：SQLite（便于开发）

### 生产环境
- 前端：Nginx 静态文件服务
- 后端：Gunicorn + Uvicorn
- 数据库：PostgreSQL
- 容器化：Docker Compose

## 性能优化

1. 前端优化
   - 组件懒加载
   - 数据缓存
   - 虚拟滚动
   - 图片懒加载

2. 后端优化
   - 数据库索引
   - 缓存使用
   - 并发控制
   - 连接池管理
   - 数据库自动降级（PostgreSQL -> SQLite）

3. 监控指标
   - 响应时间
   - 错误率
   - 资源使用率
   - 用户体验指标

## 数据模型规范

### 产品 (Product)

- SKU: 产品唯一标识符
  - 必填
  - 唯一
  - 支持任意字符格式，包括空格、特殊字符等
  - 建议使用有业务含义的编码方式，如：品类-系列-颜色-尺码

- 名称: 商品名称
  - 必填

- 类型: 产品类型
  - 必填
  - 枚举值: 普货、纺织、混装
  - 影响装箱和物流方式

- 成本价: 产品成本
  - 必填
  - 用于计算利润
  - 精确到小数点后2位

- 售价: 产品售价
  - 必填
  - 用于计算利润
  - 精确到小数点后2位

- 库存: 当前库存数量
  - 默认为0
  - 整数

- 预警阈值: 库存预警阈值
  - 可选
  - 当库存低于此值时触发预警

- 图片: 产品图片
  - 可选
  - 支持多图
  - URL数组


### 装箱单 (PackingList)

- 编号: 装箱单唯一编号
  - 自动生成
  - 格式: PL-年月日-序号

- 店铺名称: 关联的店铺
  - 必填
  - 用于区分不同店铺的装箱单

- 类型: 装箱单类型
  - 必填
  - 枚举值: 发货、退货、调拨

- 状态: 装箱单状态
  - 必填
  - 枚举值: 待审核、已审核
  - 默认为待审核

- 总箱数: 装箱单总箱数
  - 自动计算
  - 整数

- 总重量: 装箱单总重量(kg)
  - 自动计算
  - 精确到小数点后2位

- 总体积: 装箱单总体积(m³)
  - 自动计算
  - 精确到小数点后3位

- 总件数: 装箱单总件数
  - 自动计算
  - 整数

- 备注: 装箱单备注
  - 可选
  - 文本

### 装箱单明细 (PackingListItem)

- SKU: 关联的产品
  - 必填
  - 外键

- 数量: 产品数量
  - 必填
  - 整数
  - 大于0

- 箱号分配: 产品在各箱中的分配
  - 必填
  - 数组
  - 每个元素包含箱号和数量

### 箱子规格 (BoxSpecs)

- 装箱单ID: 关联的装箱单
  - 必填
  - 外键

- 箱号: 箱子编号
  - 必填
  - 字符串

- 长度: 箱子长度(cm)
  - 必填
  - 精确到小数点后1位

- 宽度: 箱子宽度(cm)
  - 必填
  - 精确到小数点后1位

- 高度: 箱子高度(cm)
  - 必填
  - 精确到小数点后1位

- 重量: 箱子重量(kg)
  - 必填
  - 精确到小数点后2位

- 体积: 箱子体积(m³)
  - 自动计算
  - 精确到小数点后3位

### 库存记录 (StockRecord)

- SKU: 关联的产品
  - 必填
  - 外键

- 操作类型: 库存操作类型
  - 必填
  - 枚举值: 入库、出库、调整

- 数量: 操作数量
  - 必填
  - 整数
  - 入库为正，出库为负

- 操作日期: 操作日期
  - 必填
  - 日期时间

- 操作人: 操作人
  - 必填
  - 外键

- 批次号: 批次号
  - 可选
  - 用于追踪批次

- 仓库: 仓库
  - 可选
  - 用于多仓库管理

### 在途库存 (TransitStock)

- 产品ID: 关联的产品
  - 必填
  - 外键

- 装箱单ID: 关联的装箱单
  - 必填
  - 外键

- 数量: 在途数量
  - 必填
  - 整数
  - 大于0

- 发货日期: 发货日期
  - 必填
  - 日期

- 预计到达日期: 预计到达日期
  - 可选
  - 日期

- 运输方式: 运输方式
  - 必填
  - 枚举值: 海运、空运、陆运

- 状态: 在途状态
  - 必填
  - 枚举值: 在途中、已到达、已取消
  - 默认为在途中

### 用户 (User)

- 用户名: 用户登录名
  - 必填
  - 唯一
  - 字母、数字、下划线

- 密码: 用户密码
  - 必填
  - 加密存储
  - 最小长度8位

- 角色: 用户角色
  - 必填
  - 枚举值: 管理员、普通用户
  - 默认为普通用户

- 权限: 用户权限
  - 必填
  - 数组
  - 根据角色自动分配

- 状态: 用户状态
  - 必填
  - 枚举值: 活跃、禁用
  - 默认为活跃

## 系统特点
1. 自动化程度高
   - 自动计算成本和运费
   - 自动更新库存
   - 自动生成分析报告

2. 数据准确性
   - 多重验证机制
   - 数据一致性检查

3. 实时分析
   - 实时库存监控
   - 动态利润计算
   - 即时数据分析

4. 易用性
   - 直观的用户界面
   - 批量操作支持
   - 灵活的数据导入导出

## 部署说明

### 开发环境
1. 前端
   ```bash
   cd client
   npm install
   npm run dev
   ```

2. 后端
   ```bash
   cd any-go-python
   pip install -r requirements.txt
   uvicorn app.main:app --reload
   ```

### 生产环境
使用 Docker Compose 进行容器化部署：
1. 前端容器
2. 后端容器
3. PostgreSQL 数据库
4. pgAdmin 管理工具

### 系统要求
- Node.js 16+
- Python 3.11+
- PostgreSQL 14+
- Docker & Docker Compose

## 核心功能优先级

### 1. 库存自动化管理（最高优先级）
- 库存时间线记录
  - 记录每个SKU的库存变动历史
  - 记录变动来源（装箱单号）
  - 记录变动时间和数量
  - 按天记录库存状态
- 在途库存管理
  - 通过装箱单自动计算
  - 显示预计到货时间
  - 区分海运/空运状态
- 简单的库存预警
  - 库存不足提醒（可设置预警阈值）
  - 库存积压提醒（可设置积压天数）

### 2. 商品管理（高优先级）
- SKU基础信息
  - SKU唯一性验证
  - 必填信息：SKU、中文名、类型（普货/纺织/混装）
  - 可选信息：成本价、头程运费、图片
- 自动创建规则
  - 导入装箱单时自动创建不存在的SKU
  - 默认值：
    - 中文名：待补充(SKU编号)
    - 类型：继承自装箱单类型
    - 价格相关：0
    - 标记为待完善状态
- 批量导入导出
  - Excel模板下载
  - 批量导入验证
  - 导出当前筛选结果

### 3. 装箱单管理（持续优化）
- Excel导入优化
  - 文件命名规则："{店铺名}海运ERP.xlsx"
  - 自动提取店铺信息
  - 数据验证规则完善
  - 错误提示优化
  - 批量处理逻辑优化
- 编辑功能
  - 基本信息：店铺、类型
  - 商品清单管理
  - 箱号分组显示
  - 合计信息自动计算
- 列表显示
  - 基本信息：店铺、日期、类型
  - 汇总信息：总箱数、总重量、总体积


## 数据规则

### 1. 装箱单Excel格式
- 每个sheet代表一个装箱单
- 跳过"常用箱规"sheet
- 表头信息位置：
  - D1单元格: 类型（普货/纺织/混装）
  - B1单元格: 总箱数
  - B2单元格: 总重量
  - B3单元格: 总体积
  - B4单元格: 总边加一体积
  - B6单元格: 总件数
  - D2单元格: 总价格

- 箱规信息（每个箱子占用3列）：
  - 1号箱：
    - F1,G1,H1: 箱规（长宽高）
    - F2: 箱重
    - F3: 体积
    - F4: 单边+1体积
    - F6: 该箱总件数
    - F7: 箱号（值为1）
  - 2号箱：
    - I1,J1,K1: 箱规（长宽高）
    - I2: 箱重
    - I3: 体积
    - I4: 单边+1体积
    - I6: 该箱总件数
    - I7: 箱号（值为2）
  - 后续箱号以此类推，每个箱子向右平移3列

- 商品数据（从第8行开始）：
  - A列：图片
  - B列：SKU
  - C列：中文名
  - F列及后续：各箱数量
    - F8及以下：该SKU在1号箱的数量
    - I8及以下：该SKU在2号箱的数量
    - 以此类推

## 系统规格

### 1. 性能要求
- 支持50人以内团队使用
- 单次导入支持1000条以内数据
- 页面加载时间<2s
- 普通操作响应时间<1s
- 导入处理时间<30s（1000条数据）

### 2. 数据规模
- SKU数量级：1万以内
- 日均装箱单：10-50单
- 库存记录：按天记录
- 数据库大小：10GB以内
- 文件存储：5GB以内

### 3. 用户角色
- 管理员
  - 所有操作权限
  - 用户管理权限
  - 系统配置权限
- 普通用户
  - 基础数据查看权限
  - 装箱单管理权限
  - SKU管理权限

### 4. 安全性要求
- 简单的session认证
- 简单的权限控制
- 关键操作日志记录
- 数据定期备份

## 开发规范

### 1. 代码规范
- 使用 TypeScript 严格模式
- 遵循 ESLint 规则
- 使用 Prettier 格式化代码
- 遵循 PEP 8 Python 代码规范

### 2. Git提交规范
- feat: 新功能
- fix: 修复
- docs: 文档
- style: 格式
- refactor: 重构
- test: 测试
- chore: 构建

### 3. 版本号规范
- 遵循语义化版本 2.0.0
- 格式：主版本号.次版本号.修订号
- 示例：1.0.0, 1.0.1, 1.1.0

## 后续迭代计划

### 1. 功能优化
- 库存预警机制完善
- 数据分析功能增强
- 自动化程度提升

### 2. 性能优化
- 缓存策略优化
- 查询性能优化
- 导入导出优化

### 3. 用户体验
- 界面交互优化
- 操作流程简化
- 错误提示完善

注意：每次修改代码时，都要更新这个文档，并查看整个项目的代码，避免重复造轮子。

## 功能模块

### 1. 用户管理系统
- 用户认证与授权
- 基于角色的权限控制(RBAC)：管理员、经理、操作员
- 用户操作日志记录
- 权限粒度控制

### 2. 产品管理
- 产品基础信息维护
- 多维度产品分类
- 产品库存管理
- SKU编码管理
- 产品图片管理
- 批量导入/导出功能
- 产品成本核算

### 3. 装箱单管理
- 装箱单创建与编辑
- 箱规管理与优化
- 自动计算体积重量
- 多店铺支持
- 装箱单审批流程
- Excel导入/导出
- 店铺数据统计

### 4. 库存管理
- 库存实时监控
- 库存变动记录
- 定期库存盘点
- 库存预警机制
- 在途库存管理
- 库存时间线追踪
- 批次管理
- 仓库管理

### 5. 销售管理
- 订单全流程管理
- 多平台订单整合
- 订单状态追踪
- 支付状态管理
- 物流信息管理
- 客户信息管理
- 销售数据统计

### 6. 数据分析
- 库存分析
  * 库存周转率分析
  * 库存健康度评估
  * 库存价值统计
  * 品类库存分析
- 利润分析
  * 毛利率/净利率分析
  * 产品盈利能力分析
  * 品类利润分析
  * 利润趋势追踪
- 销售分析
  * 销售趋势分析
  * 品类销售分析
  * 平台销售对比
  * 客户购买行为分析

### 7. 系统管理
- 数据备份与恢复
- 系统日志管理
- 定时任务管理
- 系统监控
- 性能优化

## 系统特点
1. 高度自动化：通过自动化处理减少人工操作
2. 数据准确性：多重验证确保数据准确
3. 实时分析：提供实时的数据分析和决策支持
4. 易用性：直观的界面设计和操作流程
5. 可扩展性：模块化设计便于功能扩展
6. 数据安全：完善的权限控制和数据备份机制

## 部署要求
- 操作系统：支持 Linux/Windows/MacOS
- 数据库：PostgreSQL 12+
- 运行环境：Python 3.8+, Node.js 16+
- 存储空间：建议 20GB 以上
- 内存要求：建议 4GB 以上

## 技术规范

### 1. 代码规范
- 使用 TypeScript 严格模式
- 遵循 ESLint 规则
- 使用 Prettier 格式化代码
- 遵循 PEP 8 Python 代码规范

### 2. 接口规范
- RESTful API 设计
- 统一的响应格式
- 请求参数验证
- 错误码规范

### 3. 数据验证
- 前端表单验证
- 后端模型验证
- 业务逻辑验证
- 数据完整性验证

### 4. 安全规范
- 简单的session认证
- RBAC 权限控制
- 数据加密传输
- SQL注入防护
- XSS防护

### 5. 性能优化
- 数据库索引优化
- 缓存策略
- 大数据量分页
- 按需加载

### 6. 部署规范
- Docker容器化
- CI/CD自动化部署
- 环境配置管理
- 日志收集与监控

## 开发流程

1. 需求分析与设计
2. 数据库设计
3. API接口设计
4. 前端页面开发
5. 后端接口实现
6. 单元测试
7. 集成测试
8. 部署上线

## 项目结构

```
any-go/
├── backend/                # 后端项目
│   ├── app/               # 应用代码
│   │   ├── api/          # API接口
│   │   ├── models/       # 数据模型
│   │   ├── schemas/      # 数据验证
│   │   ├── services/     # 业务逻辑
│   │   └── utils/        # 工具函数
│   ├── tests/            # 测试代码
│   └── alembic/          # 数据库迁移
│
└── client/               # 前端项目
    ├── src/             # 源代码
    │   ├── api/         # API调用
    │   ├── components/  # 组件
    │   ├── views/       # 页面
    │   ├── router/      # 路由
    │   ├── stores/      # 状态管理
    │   └── utils/       # 工具函数
    └── tests/           # 测试代码
```

## 数据模型

### 核心模型
- User (用户)
- Product (产品)
- StockRecord (库存记录)
- Packing (装箱单)
- ProfitAnalysis (利润分析)
- OperationLog (操作日志)

### 分析模型
- InventoryAnalysis (库存分析)
- ProductTurnover (商品周转)
- ProductProfit (商品利润)
## API 接口

### RESTful API
- /api/auth - 认证相关
- /api/users - 用户管理
- /api/products - 产品管理
- /api/stock - 库存管理
- /api/packing - 装箱单管理
- /api/inventory - 库存分析
- /api/profit - 利润分析
- /api/system - 系统管理

## 安全性要求
- 简单的session认证
- RBAC权限控制
- 数据加密
- HTTPS传输
- 操作日志记录

## 性能要求
- API响应时间 < 1s
- 并发用户数 > 20
- 数据库连接池优化
- 前端资源优化
- 大数据量导入导出优化

## 1. 项目概述
跨境电商ERP系统，主要用于管理产品和装箱单等信息。
每次修改代码时，都要更新这个文档，并查看整个项目的代码，避免重复造轮子。
通过上传装箱单和采购单，自动创建产品，并计算成本价和头程运费。
同时计算出每个产品在在途的库存情况
帮助跨境电商运营工作
## 2. 核心功能

### 2.1 产品管理
- SKU管理
  - SKU唯一性验证
  - SKU格式验证
  - SKU批量导入
- 产品信息维护
  - 基本信息：SKU、中文名、类型
  - 类型信息：普货/纺织/混装
  - 价格信息：成本价，头程运费
  
- 批量导入导出
  - Excel模板下载
  - 批量导入验证
  - 导出当前筛选结果
- 自动创建缺失SKU
  - 导入装箱单时自动创建
  - 使用默认值填充

### 2.2 装箱单管理
- Excel导入功能
  - 文件命名规则："{店铺名}海运ERP.xlsx"
  - 自动提取店铺信息
  - 自动创建缺失SKU
  - 类型验证（普货/纺织/混装）
- 装箱单列表显示
  - 基本信息：店铺、日期、类型
  - 汇总信息：总箱数、总重量、总体积
  - 状态标识：已审核/未审核
- 装箱单详情页
  - 表头信息展示
  - 商品清单
  - 箱号分组显示
  - 合计信息
- 删除功能
  - 删除确认
  - 批量删除

## 3. 数据规则

### 3.1 装箱单Excel格式
- 每个sheet代表一个装箱单
- 跳过"常用箱规"sheet
- 表头信息位置：
  - D1单元格: 类型（普货/纺织/混装）
  - B1单元格: 总箱数
  - B2单元格: 总重量
  - B3单元格: 总体积
  - B4单元格: 总边加一体积
  - B6单元格: 总件数
  - D2单元格: 总价格

- 箱规信息（每个箱子占用3列）：
  - 1号箱：
    - F1,G1,H1: 箱规（长宽高）
    - F2: 箱重
    - F3: 体积
    - F4: 单边+1体积
    - F6: 该箱总件数
    - F7: 箱号（值为1）
  - 2号箱：
    - I1,J1,K1: 箱规（长宽高）
    - I2: 箱重
    - I3: 体积
    - I4: 单边+1体积
    - I6: 该箱总件数
    - I7: 箱号（值为2）
  - 后续箱号以此类推，每个箱子向右平移3列

- 商品数据（从第8行开始）：
  - A列：图片
  - B列：SKU
  - C列：中文名
  - F列及后续：各箱数量
    - F8及以下：该SKU在1号箱的数量
    - I8及以下：该SKU在2号箱的数量
    - 以此类推

### 3.2 自动创建SKU规则
- 触发条件：导入装箱单时遇到不存在的SKU
- 默认值设置：
  - 中文名: "待补充(SKU编号)"
  - 类型: 继承自装箱单类型
  - 价格相关: 0
  - 图片: 空
- 标记为待完善

### 3.3 产品类型规则
- 类型定义：
  - 普货：普通商品
  - 纺织：服装、布料等纺织品
  - 混装：可包含普货和纺织的混合装箱
- 装箱单验证：
  - 普货装箱单：仅允许普货产品
  - 纺织装箱单：仅允许纺织产品
  - 混装装箱单：允许所有类型产品

## 4. 用户界面规范
- 响应式设计
  - 支持桌面端
  - 适配大屏显示
- 列表页面
  - 批量操作栏
  - 筛选搜索区
  - 分页显示
- 表单设计
  - 分组展示
  - 必填项标识
  - 实时验证
- 操作反馈
  - 加载状态
  - 成功/错误提示
  - 确认对话框

## 5. 系统功能
### 5.1 用户权限管理
- 用户模型设计
  - 基本信息：用户名、密码（加密存储）
  - 角色分配
  - 权限控制
- 权限管理界面
  - 用户列表
  - 角色分配
  - 权限设置

### 5.2 操作日志
- 日志记录中间件
  - 用户操作记录
  - 系统事件记录
  - IP地址记录
- 日志查看界面
  - 按时间筛选
  - 按操作类型筛选
  - 按用户筛选
- 日志分析统计
  - 操作频率统计
  - 异常操作分析
- 自动清理机制
  - 定期清理过期日志
  - 可配置保留天数

### 5.3 数据备份
- 手动备份功能
  - 全量备份
  - 选择性备份
- 自动备份计划
  - 每日全量备份（凌晨3点）
  - 每6小时增量备份
  - 备份文件压缩
- 备份管理界面
  - 备份列表
  - 恢复功能
  - 下载备份
- 备份策略
  - 本地存储
  - 远程存储（待实现）

### 5.4 定时任务
- 任务调度系统
  - node-schedule 实现
  - 自动备份任务
  - 日志清理任务
- 任务管理
  - 任务状态监控
  - 执行记录查看
  - 手动触发功能


## 代码规范

### TypeScript 规范

1. 类型定义
   - 使用接口（interface）定义对象类型
   - 使用类型别名（type）定义联合类型或交叉类型
   - 所有类型名使用大驼峰命名法
   - 接口名不要使用 I 前缀
   ```typescript
   // 正确
   interface User {
     id: string;
     name: string;
   }
   
   // 错误
   interface IUser {
     id: string;
     name: string;
   }
   ```

2. 变量声明
   - 优先使用 const，其次是 let
   - 禁止使用 var
   - 变量名使用小驼峰命名法
   ```typescript
   // 正确
   const userName = 'John';
   let userAge = 25;
   
   // 错误
   var user_name = 'John';
   ```

3. 函数定义
   - 函数名使用小驼峰命名法
   - 必须明确参数类型和返回值类型
   - 异步函数必须返回 Promise
   ```typescript
   // 正确
   async function getUserById(id: string): Promise<User> {
     return await userService.findById(id);
   }
   
   // 错误
   async function get_user_by_id(id) {
     return userService.findById(id);
   }
   ```




## 数据规范

### 商品数据

1. SKU 规则
   - 格式：`^[A-Z0-9\-_]{6,30}$`
   - 示例：`PRODUCT-001`, `TEXTILE_SHIRT_L`
   - 唯一性：系统级别唯一
   - 不可修改性：创建后不可修改

2. 商品类型
   ```typescript
   type ProductType = 'normal' | 'textile' | 'mixed';
   ```
   - normal: 普货
   - textile: 纺织
   - mixed: 混装


### 装箱单数据

1. 箱号规则
   - 格式：字母数字组合
   - 示例：`BOX001`, `A001`
   - 范围：同一装箱单内唯一

 2. 重量和体积
   - 重量单位：kg
   - 体积单位：m³
   - 精度：重量保留2位小数，体积保留3位小数

## API 规范

### 请求规范

1. URL 规则
   - 使用小写字母
   - 使用连字符（-）连接单词
   - 使用复数形式表示资源集合
   ```
   /api/products
   /api/packing-lists
   ```

2. HTTP 方法
   - GET：查询
   - POST：创建
   - PUT：完整更新
   - PATCH：部分更新
   - DELETE：删除

3. 查询参数
   ```typescript
   interface QueryParams {
     page?: number;
     pageSize?: number;
     keyword?: string;
     [key: string]: any;
   }
   ```

### 响应规范

1. 成功响应
   ```typescript
   interface ApiResponse<T> {
     code: 0;
     data: T;
     message: string;
   }
   ```

2. 错误响应
   ```typescript
   interface ApiError {
     code: number;
     message: string;
     details?: any;
   }
   ```

3. 状态码使用
   - 200：成功
   - 201：创建成功
   - 400：请求错误
   - 401：未授权
   - 403：禁止访问
   - 404：资源不存在
   - 500：服务器错误

## 文档规范

### 代码注释

1. 文件头注释
   ```typescript
   /**
    * @file 文件描述
    * @author 作者
    * @date 创建日期
    */
   ```

2. 函数注释
   ```typescript
   /**
    * 函数描述
    * @param {string} param1 参数1描述
    * @param {number} param2 参数2描述
    * @returns {Promise<Result>} 返回值描述
    * @throws {Error} 可能抛出的错误
    */
   ```

3. 接口注释
   ```typescript
   /**
    * 用户信息接口
    * @interface User
    */
   interface User {
     /** 用户ID */
     id: string;
     /** 用户名 */
     name: string;
   }
   ```

### Git 规范

1. 分支命名
   - 主分支：master/main
   - 开发分支：develop
   - 功能分支：feature/xxx
   - 修复分支：hotfix/xxx
   - 发布分支：release/xxx

2. 提交信息
   ```
   <type>(<scope>): <subject>

   <body>

   <footer>
   ```
   - type: feat, fix, docs, style, refactor, test, chore
   - scope: 影响范围
   - subject: 简短描述
   - body: 详细描述
   - footer: 关闭 issue 等

3. 版本号规范
   - 遵循语义化版本 2.0.0
   - 格式：主版本号.次版本号.修订号
   - 示例：1.0.0, 1.0.1, 1.1.0

## 测试规范

1. 单元测试
   - 使用 Jest 框架
   - 测试文件命名：*.test.ts
   - 覆盖率要求：>= 80%

2. 组件测试
   - 使用 React Testing Library
   - 测试用户交互
   - 测试渲染结果

3. 端到端测试
   - 使用 Cypress
   - 测试关键业务流程
   - 测试用户场景

## 安全规范

1. 身份认证
   - 使用 简单的session认证

2. 数据验证
   - 使用 Joi 进行请求验证
   - 使用 TypeScript 类型检查
   - SQL 注入防护

3. 敏感信息
   - 密码必须加密存储
   - API Key 必须加密
   - 日志脱敏处理

## 性能规范

1. 前端优化
   - 代码分割
   - 懒加载
  - 缓存策略
   - 图片优化

2. 后端优化
  - 数据库索引
   - 缓存使用
   - 并发控制
   - 连接池管理

3. 监控指标
   - 响应时间
   - 错误率
   - 资源使用率
   - 用户体验指标

## 数据模型规范

### 产品 (Product)

- SKU: 产品唯一标识符
  - 必填
  - 唯一
  - 支持任意字符格式，包括空格、特殊字符等
  - 建议使用有业务含义的编码方式，如：品类-系列-颜色-尺码



